---
title: "StratoBayes"
format: html
slug: software
---

**Automated stratigraphic correlation and age modelling**

## About

StratoBayes is implemented as a package for the R programming language. Please follow the installation instructions below.

> **Note**: This version of StratoBayes is licenced for non-commercial use only. For commercial inquiries, please [email us](mailto:kilian.eichenseer@durham.ac.uk).

## Installation

<!-- StratoBayes requires [R](https://www.r-project.org/) (at least version 4.1). We recommend accessing R from the [Rstudio](https://posit.co/downloads/) integrated development environment. [do we need to say anything about chosing the right version for the OS?] -->

StratoBayes requires [**R version 4.2.x -- 4.5.x**](https://cran.r-project.org/). We recommend using R through the [RStudio IDE](https://posit.co/downloads/).

> Binaries are available for Windows and macOS.

### Step-by-step guide

1.  **Install R and RStudio**:
    -   [Download and install R](https://cran.r-project.org/), ensuring you select the correct installer for your operating system (Windows, macOS Intel, or macOS Apple Silicon).
    -   [Download and install RStudio](https://posit.co/downloads/) corresponding to your operating system.

> If you are unsure which version of Mac you are using, click the apple logo in the top left corner and select “About This Mac”. Check the processor type. "Apple M1", "M2", or later require R for Apple silicon; Intel processors (i5, i7, i9, etc.) require R “For older Intel Macs".

2.  **Confirm R version in RStudio**:

    -   Open RStudio.

    -   Select your R version via:

        ```         
        Tools → Global Options → General → R version
        ```

    -   If not already selected, chose **R version 4.5.x** (or 4.4.x, 4.3.x or 4.2.x) and restart RStudio to apply the change.

3.  **Install StratoBayes**: Receive installation instructions and sign up for a trial via email through the form below. --\>

<!--     ``` r -->

<!--     install.packages("StratoBayes",  -->

<!--                      repos = c("https://stratobayes.github.io", getOption("repos")),  -->

<!--                      type = "binary",  -->

<!--                      dependencies = TRUE) -->

<!--     ``` -->

<!-- Load Cloudflare Turnstile -->

<script src="https://challenges.cloudflare.com/turnstile/v0/api.js" async defer></script>

**Try StratoBayes now:**\
Sign up as a trial user to receive installation instructions via email through the form below.

<form id="sb-reg" style="max-width:520px">
  <label>Email<br>
    <input type="email" name="email" required style="width:100%">
  </label>
  <br>

<label>Intended use<br> <select name="user_type" required style="width:100%"> <option value="">Select…</option> <option>Academic</option> <option>Commercial</option> <option>Other</option> </select> </label> <br>

<label>If "Other", please specify<br> <input type="text" name="other_note" placeholder="Optional" style="width:100%"> </label> <br>

  <!-- Honeypot (hidden from humans; bots often fill it) -->

  <div style="position:absolute;left:-5000px;opacity:0" aria-hidden="true">
    <label>Website <input type="text" name="website" tabindex="-1" autocomplete="off"></label>
  </div>

  <label style="display:block;margin-top:8px;">
    <input type="checkbox" name="download_consent" required>
    I would like to sign up as a StratoBayes trial user and I agree to the
    <a href="privacy.html" target="_blank">Privacy Notice</a>. I understand that I may be
    contacted with information and updates about the software.
  </label>
  <br>
  <button type="submit">Email installation instructions</button>
  
    <!-- Cloudflare Turnstile widget (replace with your real site key) -->

  <div class="cf-turnstile" data-sitekey="0x4AAAAAACATw0wJp-pDz2gF"></div>
</form>

<div id="sb-done" style="display:none">
  <p><strong>Thanks!</strong> Check your inbox at
    <span class="sb-email" style="font-weight:bold;color:#005a9c"></span>
    for your personalized install command.</p>
  <p><strong>This may take up to a few minutes.</strong></p>
  <button type="button"
    onclick="document.getElementById('sb-reg').style.display='';document.getElementById('sb-done').style.display='none'">
    Send again
  </button>
</div>

```{=html}
<script>
  (function () {
    const form = document.getElementById('sb-reg');
    if (!form) return;
    
    form.addEventListener('submit', async (e) => {
      e.preventDefault();
      
      const fd = new FormData(form);
      const download_consent = !!form.querySelector('input[name="download_consent"]')?.checked;
      
      if (!download_consent) {
        alert("Please accept the Privacy Notice to receive the install email.");
        return;
      }
      
      // Turnstile token from the widget
      const ts_token = document.querySelector('input[name="cf-turnstile-response"]')?.value || '';
      
      const payload = {
        email: (fd.get('email') || '').toString().trim(),
        user_type: (fd.get('user_type') || '').toString().trim(),
        other_note: (fd.get('other_note') || '').toString().trim(),
        website: (fd.get('website') || '').toString().trim(), // honeypot
        download_consent,
        ts_token
      };
      
      if (!payload.email) {
        alert("Please enter a valid email address.");
        return;
      }
      
      try {
        const r = await fetch('https://dl.stratobayes.com/api/register', {
          method: 'POST',
          headers: { 'content-type': 'application/json' },
          body: JSON.stringify(payload)
        });
        
        if (!r.ok) {
          let msg = 'Something went wrong. Please try again.';
          try { const j = await r.json(); if (j && j.error) msg = j.error; } catch {}
          alert(msg);
          return;
        }
        
        // Success UI
        form.reset();
        form.style.display = 'none';
        const done = document.getElementById('sb-done');
        done.style.display = '';
        done.querySelector('.sb-email').textContent = payload.email;
      } catch (err) {
        alert('Network error. Please check your connection and try again.');
        console.error(err);
      }
    });
  })();
</script>
```
                  

                  

> **Note**: Currently, StratoBayes binaries are available for R versions 4.2 and upwards (4.2 - 4.5). Ensure your R installation meets this requirement to avoid compatibility issues. Binaries are available for Windows and macOS.

After you received the email, copy & paste the installation command into the R console within RStudio.

4.  **Load StratoBayes:** Paste this into the R console within RStudio:

    ``` r
    library(StratoBayes)
    ```

```{=html}
<!-- Once R and Rstudio are installed, open Rstudio. You can select the correct version of R in `Tools`  `Global Options...`  `R version:`, then restart Rstudio.

In the console, type

`install.packages("StratoBayes", repos = c("https://stratobayes.github.io", getOption("repos")), type = "binary", dependencies = TRUE)`

-->
```

```{=html}
<!-- ### Windows

currently supports R 4.4

### macOS

currently supports R 4.4 for Intel and for Apple silicon

### Linux
-->
```

## Using StratoBayes

For an introduction to using StratoBayes, please see the [Getting Started vignette](/vignettes/StratoBayes.html). It can be also be accessed in the R console with:

``` r
vignette("StratoBayes")
```

To get help on individual functions, type e.g. `?StratData` in the console.

For an overview of available tutorials, visit the [Vignette index](https://stratobayes.github.io/vignettes/index).
