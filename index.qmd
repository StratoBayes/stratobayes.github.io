---
  title: "Welcome to StratoBayes"
  description: "Automated stratigraphic correlation and age modelling"
  format: html
---

<p align="left">

<img src="images/StratoBayes-Overview.png" alt="StratoBayes overview" style="display: block; margin: 0; padding: 0;" width="600"/>

</p>

<p class="mb-1">StratoBayes is peer-reviewed software developed at Durham University offering:</p>

- automated correlation of multiple sections or wells  
- fully quantified uncertainty estimates and alternative correlations  
- mathematical integration of stratigraphic data and prior knowledge  
  
**Try StratoBayes now:**  
Receive installation instructions via email through the form below.  

<form id="sb-reg" style="max-width:520px">
  <label>Email<br>
    <input type="email" name="email" required style="width:100%">
  </label>
  <br>
  <label>Intended use<br>
    <select name="user_type" required style="width:100%">
      <option value="">Selectâ€¦</option>
      <option>Academic</option>
      <option>Commercial</option>
      <option>Other</option>
    </select>
  </label>
  <br>
  <label>If "Other", please specify<br>
    <input type="text" name="other_note" placeholder="Optional" style="width:100%">
  </label>
  <br>
  <label style="display:block;margin-top:8px;">
    <input type="checkbox" name="download_consent" required>
    I accept the <a href="privacy.qmd">Privacy Notice</a> and agree to receive my install email.
  </label>
  <label style="display:block;margin-top:6px;">
    <input type="checkbox" name="marketing_consent">
    I consent to occasional product updates & follow-up emails (optional).
  </label>
  </br>
  <button type="submit">Email installation instructions</button>
</form>

<div id="sb-done" style="display:none">
  <p><strong>Thanks!</strong> Check your inbox for your personalized install command.</p>
  <p><strong>This may take up to a few minutes.</strong></p>
  <button type="button"
    onclick="document.getElementById('sb-reg').style.display='';document.getElementById('sb-done').style.display='none'">
    Send again
  </button>
</div>


<script>
document.getElementById('sb-reg').addEventListener('submit', async (e) => {
  e.preventDefault();

  const fd = new FormData(e.target);
  // Explicit booleans:
  const download_consent  = e.target.querySelector('input[name="download_consent"]').checked;
  const marketing_consent = e.target.querySelector('input[name="marketing_consent"]').checked;

  if (!download_consent) {
    alert("Please accept the Privacy Notice to receive the install email.");
    return;
  }

  const payload = {
    email: fd.get('email')?.trim(),
    user_type: fd.get('user_type')?.trim(),
    other_note: fd.get('other_note')?.trim() || "",
    download_consent,
    marketing_consent
  };

  const r = await fetch('https://dl.stratobayes.com/api/register', {
    method: 'POST',
    headers: {'content-type':'application/json'},
    body: JSON.stringify(payload)
  });

  if (!r.ok) {
    let msg = 'Something went wrong. Please try again.';
    try { const j = await r.json(); if (j?.error) msg = j.error; } catch {}
    alert(msg);
    return;
  }

  e.target.style.display = 'none';
  document.getElementById('sb-done').style.display = '';
});
</script>
